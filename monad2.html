<!doctype html>
<meta charset="utf-8">
<title>monad</title>
<script>
var queue = function() {
	return (function next(){
		var args = getArguments.call(arguments);
		var currentFn = this.shift();
		if(!currentFn) return;
		next.call(
			this,
			currentFn.apply(currentFn, args)
		);
	}).apply(getArguments.call(arguments));
}
queue(q1, q2, q3, q4, q5);
function getArguments() {
	return Array.prototype.splice.call(this, 0, this.length);
}
function q1(cb) {
    return "Hello World"
}
function q2(text) {
    console.log(text);	// Hello World
    setTimeout(this, 100);
    return q2;
}
function q3() {
    console.log("q3");
}
function q4() {
    console.log("q4");
}
function q5() {
    console.log("q5");
}
</script>
</head>
<body>
	
</body>
</html>